# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

pool:
  vmImage: ubuntu-latest

steps:
  - script: echo Hello, world!
    displayName: "Run a one-line script"
  - task: Bash@3
    inputs:
      targetType: "inline"
      script: "npm install"
      workingDirectory: "pipeline-test-frontend"
  - task: Bash@3
    inputs:
      targetType: "inline"
      script: "npm run-script build"
      workingDirectory: "pipeline-test-frontend"
  - task: Bash@3
    inputs:
      targetType: "inline"
      script: "npm run-script test"
      workingDirectory: "pipeline-test-frontend"
  - task: DotNetCoreCLI@2
    inputs:
      command: "build"
      projects: "**/*.csproj"
  - task: DotNetCoreCLI@2
    inputs:
      command: "test"
      projects: "**/*.csproj"
  - task: DotNetCoreCLI@2
    inputs:
      command: "publish"
      publishWebProjects: false
      projects: "API/API.csproj"
